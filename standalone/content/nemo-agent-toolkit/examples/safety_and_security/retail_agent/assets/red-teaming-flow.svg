<svg xmlns="http://www.w3.org/2000/svg" width="900" height="180" viewBox="0 0 900 180">
  <style>
    .box { fill: #ffffff; stroke: #333333; stroke-width: 1.5; }
    .text { font-family: Arial, sans-serif; font-size: 12px; fill: #111111; }
    .arrow { stroke: #d62728; stroke-width: 1.5; fill: none; marker-end: url(#arrowhead); }
  </style>
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#d62728"/>
    </marker>
  </defs>

  <rect class="box" x="20" y="60" width="110" height="40" rx="4"/>
  <text class="text" x="75" y="85" text-anchor="middle">User Input</text>

  <rect class="box" x="155" y="60" width="90" height="40" rx="4"/>
  <text class="text" x="200" y="85" text-anchor="middle">Agent</text>

  <rect class="box" x="270" y="60" width="100" height="40" rx="4"/>
  <text class="text" x="320" y="85" text-anchor="middle">Tool Call</text>

  <rect class="box" x="395" y="55" width="150" height="50" rx="4"/>
  <text class="text" x="470" y="75" text-anchor="middle">RedTeamingMiddleware</text>
  <text class="text" x="470" y="90" text-anchor="middle">injects attacks</text>

  <rect class="box" x="565" y="60" width="100" height="40" rx="4"/>
  <text class="text" x="615" y="85" text-anchor="middle">Tool Output</text>

  <rect class="box" x="690" y="60" width="110" height="40" rx="4"/>
  <text class="text" x="745" y="85" text-anchor="middle">Poisoned Output</text>

  <rect class="box" x="350" y="120" width="140" height="40" rx="4"/>
  <text class="text" x="420" y="145" text-anchor="middle">RedTeamingEvaluator</text>

  <line class="arrow" x1="130" y1="80" x2="155" y2="80"/>
  <line class="arrow" x1="245" y1="80" x2="270" y2="80"/>
  <line class="arrow" x1="370" y1="80" x2="395" y2="80"/>
  <line class="arrow" x1="545" y1="80" x2="565" y2="80"/>
  <line class="arrow" x1="665" y1="80" x2="690" y2="80"/>
  <line class="arrow" x1="745" y1="60" x2="745" y2="40"/>
  <line class="arrow" x1="745" y1="40" x2="200" y2="40"/>
  <line class="arrow" x1="200" y1="40" x2="200" y2="60"/>
  <line class="arrow" x1="420" y1="120" x2="420" y2="100"/>
</svg>
